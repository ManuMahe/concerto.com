{% extends 'base.html.twig' %}

{% block title %}Concerto.com - Page d'Administration{% endblock %}

{% block body %}
    <h2>Les différents Produits</h2>

    <table id="table_id" class="table table-dark table-striped table-bordered display table-responsive align-middle table-hover">
        <thead>
            <tr>
                <th>Id</th>
                <th>Nom</th>
                <th>Description</th>
                <th>Prix(€)</th>
                <th>Stock</th>
                <th>Photo</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% for produit in produits %}
            <tr>
                <td>{{ produit.id }}</td>
                <td>{{ produit.nomProduit }}</td>
                <td>{{ produit.descriptionProduit }}</td>
                <td>{{ produit.prixProduit }}</td>
                <td>{{ produit.stockProduit }}</td>
                <td>{{ produit.photoProduit }}</td>
                <td>
                    <div class="action">
                        <a href="{{ path('produit_edit', {'id': produit.id}) }}">Editer</a>
                        <form class="delete" method="post" action="{{ path('produit_delete', {'id': produit.id}) }}" onsubmit="return confirm('Etes vous sûr de vouloir supprimer ce produit ?');">
                            <input type="hidden" name="_method" value="DELETE">
                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ produit.id) }}">
                            <button class="btn">Supprimer</button>
                        </form>
                    </div>
                    
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="7">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div class="action">
        <a href="{{ path('produit_new') }}">Nouveau Produit</a>
    </div>
    

    <h2>Les différentes Marques</h2>

    <table class="table table-dark table-striped table-bordered table-responsive align-middle table-hover">
        <thead>
            <tr>
                <th>Id</th>
                <th>NomMarque</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for marque in marques %}
            <tr>
                <td>{{ marque.id }}</td>
                <td>{{ marque.nomMarque }}</td>
                <td>
                    <div class="action">
                        <a href="{{ path('marque_edit', {'id': marque.id}) }}">Editer</a>
                        <form class="delete" method="post" action="{{ path('marque_delete', {'id': marque.id}) }}" onsubmit="return confirm('Etes vous sûr de vouloir supprimer cette marque ?');">
                            <input type="hidden" name="_method" value="DELETE">
                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ marque.id) }}">
                            <button class="btn">Supprimer</button>
                        </form>
                    </div>
                    
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="3">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div class="action">
        <a href="{{ path('marque_new') }}">Nouvelle Marque</a>
    </div>



    <h2>Les Types de produits</h2>

    <table class="table table-dark table-striped table-bordered table-responsive align-middle table-hover">
        <thead>
            <tr>
                <th>Id</th>
                <th>NomType</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for type in types %}
            <tr>
                <td>{{ type.id }}</td>

                <td>{{ type.nomType }}</td>
                <td>
                    <div class="action">
                        <a href="{{ path('type_edit', {'id': type.id}) }}">Editer</a>
                        <form class="delete" method="post" action="{{ path('type_delete', {'id': type.id}) }}" onsubmit="return confirm('Etes vous sûr de vouloir supprimer ce type ?');">
                            <input type="hidden" name="_method" value="DELETE">
                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ type.id) }}">
                            <button class="btn">Supprimer</button>
                        </form>
                    </div>
                    
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="3">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div class="action">
        <a href="{{ path('type_new') }}">Nouveau Type</a>
    </div>

{% endblock %}
